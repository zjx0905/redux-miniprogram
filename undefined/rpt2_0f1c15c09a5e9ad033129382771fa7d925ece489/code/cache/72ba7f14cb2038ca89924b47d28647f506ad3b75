{"code":"// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction executeLifetime(cur, old, arg) {\r\n    cur.call(this, ...arg);\r\n    if (old !== void 0) {\r\n        return old.call(this, ...arg);\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction pageLifetimes(options, load, unload) {\r\n    function onLoad(...arg) {\r\n        return executeLifetime.call(this, load, options.onLoad, arg);\r\n    }\r\n    function onUnload(...arg) {\r\n        return executeLifetime.call(this, unload, options.onUnload, arg);\r\n    }\r\n    return { ...options, onLoad, onUnload };\r\n}\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction componentLifetimes(options, load, unload) {\r\n    function attached(...arg) {\r\n        return executeLifetime.call(this, load, options.lifetimes?.attached ?? options.attached, arg);\r\n    }\r\n    function detached(...arg) {\r\n        return executeLifetime.call(this, unload, options.lifetimes?.detached ?? options.detached, arg);\r\n    }\r\n    return {\r\n        ...options,\r\n        attached,\r\n        detached,\r\n        lifetimes: {\r\n            ...(options.lifetimes ?? {}),\r\n            attached,\r\n            detached,\r\n        },\r\n    };\r\n}\r\nexport default function mixinLifetimes(type, options, \r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nload, \r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nunload) {\r\n    if (type === 'page') {\r\n        return pageLifetimes(options, load, unload);\r\n    }\r\n    return componentLifetimes(options, load, unload);\r\n}\r\n//# sourceMappingURL=mixinLifetimes.js.map","references":["/Users/fluff/Documents/zjx0905/redux-miniprogram/src/types.ts"],"map":"{\"version\":3,\"file\":\"mixinLifetimes.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/connect/mixinLifetimes.ts\"],\"names\":[],\"mappings\":\"AAEA,wDAAwD;AACxD,SAAS,eAAe,CAAkB,GAAa,EAAE,GAAa,EAAE,GAAc;IACpF,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC;IAEvB,IAAI,GAAG,KAAK,KAAK,CAAC,EAAE;QAClB,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC;KAC/B;AACH,CAAC;AAED,wDAAwD;AACxD,SAAS,aAAa,CAAC,OAAkB,EAAE,IAAc,EAAE,MAAgB;IACzE,SAAS,MAAM,CAAkB,GAAG,GAAc;QAChD,OAAO,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IAC/D,CAAC;IAED,SAAS,QAAQ,CAAkB,GAAG,GAAc;QAClD,OAAO,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IACnE,CAAC;IAED,OAAO,EAAE,GAAG,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;AAC1C,CAAC;AAED,wDAAwD;AACxD,SAAS,kBAAkB,CAAC,OAAkB,EAAE,IAAc,EAAE,MAAgB;IAC9E,SAAS,QAAQ,CAAkB,GAAG,GAAc;QAClD,OAAO,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE,QAAQ,IAAI,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IAChG,CAAC;IAED,SAAS,QAAQ,CAAkB,GAAG,GAAc;QAClD,OAAO,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,SAAS,EAAE,QAAQ,IAAI,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IAClG,CAAC;IAED,OAAO;QACL,GAAG,OAAO;QACV,QAAQ;QACR,QAAQ;QACR,SAAS,EAAE;YACT,GAAG,CAAC,OAAO,CAAC,SAAS,IAAI,EAAE,CAAC;YAC5B,QAAQ;YACR,QAAQ;SACT;KACF,CAAC;AACJ,CAAC;AAED,MAAM,CAAC,OAAO,UAAU,cAAc,CACpC,IAAiB,EACjB,OAAkB;AAClB,wDAAwD;AACxD,IAAc;AACd,wDAAwD;AACxD,MAAgB;IAEhB,IAAI,IAAI,KAAK,MAAM,EAAE;QACnB,OAAO,aAAa,CAAC,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;KAC7C;IAED,OAAO,kBAAkB,CAAC,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;AACnD,CAAC\"}","dts":{"name":"/Users/fluff/Documents/zjx0905/redux-miniprogram/types/connect/mixinLifetimes.d.ts","writeByteOrderMark":false,"text":"import { ConnectType } from '../types';\r\nexport default function mixinLifetimes(type: ConnectType, options: AnyObject, load: Function, unload: Function): AnyObject;\r\n"}}
